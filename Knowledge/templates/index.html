<!-- templates/index.html -->
{% extends 'base.html' %}
{% block content %}
<div class="row">
    <div class="col-md-8 offset-md-2">
        <div class="card shadow">
            <div class="card-header bg-primary text-white">
                <h2 class="mb-0 text-center"><i class="fas fa-project-diagram me-2"></i>Build Knowledge Graph</h2>
            </div>
            <div class="card-body">
                <form action="/generate_graph" method="POST" enctype="multipart/form-data">
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>
                        Enter text, provide a URL, or upload a file to generate a knowledge graph visualization.
                    </div>
                    
                    <!-- Tabs for different input methods -->
                    <ul class="nav nav-tabs" id="inputTabs" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="text-tab" data-bs-toggle="tab" data-bs-target="#text-input" 
                                    type="button" role="tab" aria-controls="text-input" aria-selected="true">
                                <i class="fas fa-keyboard me-1"></i>Text Input
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="url-tab" data-bs-toggle="tab" data-bs-target="#url-input" 
                                    type="button" role="tab" aria-controls="url-input" aria-selected="false">
                                <i class="fas fa-globe me-1"></i>URL
                            </button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="file-tab" data-bs-toggle="tab" data-bs-target="#file-input" 
                                    type="button" role="tab" aria-controls="file-input" aria-selected="false">
                                <i class="fas fa-file-alt me-1"></i>File Upload
                            </button>
                        </li>
                    </ul>
                    
                    <div class="tab-content mt-3" id="inputTabsContent">
                        <!-- Text Input Tab -->
                        <div class="tab-pane fade show active" id="text-input" role="tabpanel" aria-labelledby="text-tab">
                            <div class="mb-3">
                                <label for="text" class="form-label">Enter Text</label>
                                <textarea class="form-control" id="text" name="text" rows="8" 
                                          placeholder="Enter your text here..."></textarea>
                                <div class="form-text">Paste any text that you want to analyze (up to 10,000 characters).</div>
                            </div>
                        </div>
                        
                        <!-- URL Input Tab -->
                        <div class="tab-pane fade" id="url-input" role="tabpanel" aria-labelledby="url-tab">
                            <div class="mb-3">
                                <label for="url" class="form-label">Enter Website URL</label>
                                <div class="input-group">
                                    <span class="input-group-text"><i class="fas fa-link"></i></span>
                                    <input type="url" class="form-control" id="url" name="url" 
                                           placeholder="https://example.com">
                                </div>
                                <div class="form-text">Enter a valid URL to extract text from a webpage.</div>
                            </div>
                        </div>
                        
                        <!-- File Upload Tab -->
                        <div class="tab-pane fade" id="file-input" role="tabpanel" aria-labelledby="file-tab">
                            <div class="mb-3">
                                <label for="file" class="form-label">Upload Text File</label>
                                <input class="form-control" type="file" id="file" name="file" accept=".txt">
                                <div class="form-text">Upload a UTF-8 encoded text file (.txt)</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Submit Button -->
                    <div class="d-grid gap-2 mt-4">
                        <button type="submit" class="btn btn-primary btn-lg">
                            <i class="fas fa-magic me-2"></i>Generate Knowledge Graph
                        </button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Features Section -->
        <div class="mt-5">
            <h3 class="text-center mb-4">Features</h3>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card h-100 text-center">
                        <div class="card-body">
                            <i class="fas fa-brain fa-3x text-primary mb-3"></i>
                            <h5 class="card-title">AI-Powered Extraction</h5>
                            <p class="card-text">Our AI engine automatically identifies entities and relationships in your text.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card h-100 text-center">
                        <div class="card-body">
                            <i class="fas fa-project-diagram fa-3x text-primary mb-3"></i>
                            <h5 class="card-title">Interactive Visualization</h5>
                            <p class="card-text">Explore connections with our dynamic, interactive graph interface.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card h-100 text-center">
                        <div class="card-body">
                            <i class="fas fa-download fa-3x text-primary mb-3"></i>
                            <h5 class="card-title">Multiple Export Formats</h5>
                            <p class="card-text">Download your knowledge graph in JSON, CSV, PNG, or SVG formats.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}